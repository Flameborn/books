{{define "results"}}
{{$title := printf "Results for %s" .Query }}
{{template "header" $title}}
{{ template "searchform" . }}
<h2>Search results for {{ .Query }}</h2>
{{ if .Books -}}
<table id="results">
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Series</th>
    </tr>
{{ range $v := .Books -}}
    <tr>
        <td><a href="/book/{{ $v.Id }}">{{ $v.Title }}</a></td>
        <td>{{ joinNaturally "and" $v.Authors }}</td>
        <td>{{ $v.Series }}</td>
    </tr>
{{end -}}
</table>
{{ else -}}
<p>Nothing found</p>
{{ end }}
{{template "footer"}}
{{end}}
