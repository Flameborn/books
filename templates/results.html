{{define "results"}}
{{$title := printf "Results for %s" .Query }}
{{template "header" $title}}
{{ template "searchform" . }}
<h2>Search results for {{ .Query }}</h2>
<div id="results-display" style="display:inline-block; float:left;width: 80%">
{{ if .Books -}}
<table id="results">
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Series</th>
    </tr>
{{ range $v := .Books -}}
    <tr>
        <td><a href="/book/{{ $v.Id }}">{{ $v.Title }}</a></td>
        <td>{{ joinNaturally "and" $v.Authors }}</td>
        <td>{{ $v.Series }}</td>
    </tr>
{{end -}}
</table>
{{ else -}}
<p>Nothing found</p>
{{ end }}
</div>
<div id="page-nav" style="display:inline-block; float: left; width:20%">
    <ul>
        <li>{{ if .Prev }}<a href="/search/?query={{ .Query }}&page={{ .Prev}}">&lt;Prev</a>{{ else }}&lt;Prev{{ end }}</li>
        {{ range .PageLinks -}}
        <li>{{ if eq $.PageNumber . }}{{ . }}{{ else }}<a href="/search/?query={{ $.Query }}&page={{ .}}">{{ . }}</a>{{ end }}</li>
        {{ end -}}
        <li>{{ if .Next }}<a href="/search/?query={{ .Query }}&page={{ .Next}}">Next&gt;</a>{{ else }}Next&gt;{{ end }}</li>
    </ul>
</div>
{{template "footer"}}
{{end}}
